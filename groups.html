<html>
<head>
	<title>voice Engine</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="assets/styles/multiple-select.css">
  <link rel="stylesheet" type="text/css" href="assets/style.css">
  <link rel="stylesheet" type="text/css" href="assets/styles/main.css">
  <link rel="stylesheet" type="text/css" href="assets/styles/group.css">
</head>
<body>
<!--The content below is only a placeholder and can be replaced.-->
<div class="container-fluid">
  <section class="body-container">
  <h2>Voice Engine
  <div class="header-dropdown">
    <span>Home</span>
    <select>
      <option>Claro, Argentina</option>
      <option>America</option>
    </select>
  </div>
  </h2>
  <div class="tab-view">
    <ul>
      <li>Usage Metering Rules(4)</li>
      <li class="active">Group(4)</li>
      <li>Allowance(8)</li>
      <li>Call Action(3)</li>
      <li>Threshold(4)</li>
    </ul>
  </div>
    <div class="filters-row">
      <div class="search">
        <input placeholder="search"  data-bind="click: showSearchList, hasfocus: showSearch">
        <span class="clear-search">x</span>
        <div class="search-items" data-bind="visible:showSearch">
          <div class="search-list">
            <span class="search-heading">Rule (15)</span>
            <div class="scroll-section" data-bind="foreach:items">
              <div class="search-list-item" data-bind="text:ruleName"></div>
            </div>
          </div>
          <div class="search-list">
              <span class="search-heading">Originating From/Terminating To</span>
              <div class="scroll-section" data-bind="foreach:allowanceList">
              <div class="search-list-item" data-bind="text:templatesName"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="action-items">
        <div>
          <span class="test" style="position: relative">
            <span class="icon-filter" style="position: relative" data-bind="click: showFilterList, clickBubble: false"></span>
            <div class="arrow"></div>
            <div class="filter-app"  data-bind="visible:showFilter">
                <div class="row m-0">
                  <div class="col-md-12 pl-0 pr-0">
                    <p class="heading-filter">Filter</p>
                  </div>
                  <div class="col-md-5 pl-0 pr-0">
                    <ul class="nav nav-pills flex-column" id="myTab" role="tablist">
                      <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab"
                           id="first-tab"
                           href="#first" role="tab"
                           aria-selected="true">Allowance Name</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" data-toggle="tab"
                           id="second-tab"
                           href="#second" role="tab"
                           aria-selected="true">Periodicity</a>
                      </li>
                    </ul>
                  </div>
                  <div class="col-md-7 pl-0 pr-0">
                    <div class="tab-content" id="myTabContent">
                      <div class="tab-pane fade show active"
                           id="first" role="tabpanel">
                        <div class="row m-0 pt-3 position-relative">
                          <input class="form-control" type="text" placeholder="Search by Name"/>
                          <span class="icon-search"></span>
                        </div>
          
                        <!--Multi Select Template-->
          
                        <div class="filter-attribute">
                          <div class="position-relative">
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check1"
                               name="checkbox">
                        <label for="check1" class="custom-control-label cursor-pointer">
                        <span class="label-item">A1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check2"
                               name="checkbox">
                        <label for="check2" class="custom-control-label cursor-pointer">
                        <span class="label-item">A1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check3"
                               name="checkbox">
                        <label for="check3" class="custom-control-label cursor-pointer">
                        <span class="label-item">A1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check4"
                               name="checkbox">
                        <label for="check4" class="custom-control-label cursor-pointer">
                        <span class="label-item">A1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check5"
                               name="checkbox">
                        <label for="check5" class="custom-control-label cursor-pointer">
                        <span class="label-item">A1233</span>
                        </label>
                        </span>
                            </div>
                          </div>
                        </div>
                      </div>
          
                      <div class="tab-pane fade show"
                           id="second" role="tabpanel">
                        <div class="row m-0 pt-3 position-relative">
                          <input class="form-control" type="text" placeholder="Search by Name"/>
                          <span class="icon-search"></span>
                        </div>
          
                        <!--Multi Select Template-->
          
                        <div class="filter-attribute">
                          <div class="position-relative">
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check11"
                               name="checkbox">
                        <label for="check11" class="custom-control-label cursor-pointer">
                        <span class="label-item">B1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check21"
                               name="checkbox">
                        <label for="check21" class="custom-control-label cursor-pointer">
                        <span class="label-item">B1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check31"
                               name="checkbox">
                        <label for="check31" class="custom-control-label cursor-pointer">
                        <span class="label-item">B1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check41"
                               name="checkbox">
                        <label for="check41" class="custom-control-label cursor-pointer">
                        <span class="label-item">B1233</span>
                        </label>
                        </span>
                            </div>
                            <div class="row m-0 filter-attribute-item">
                        <span class="custom-checkbox cursor-pointer">
                        <input type="checkbox" class="custom-control-input cursor-pointer" id="check51"
                               name="checkbox">
                        <label for="check51" class="custom-control-label cursor-pointer">
                        <span class="label-item">B1233</span>
                        </label>
                        </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="filter-footer">
                    <button
                            class="btn btn-primary ml-3 text-center font-weight-bold position-relative">
                      Apply
                    </button>
                    <button class="btn btn-primary btn-transparent  font-weight-bold text-center">
                      Clear All
                    </button>
                  </div>
                </div>
            </div>
          
          </span>
        </div>
        <div class="click-to-action" data-bind="click: showRule">Add Rules</div>
      </div>
    </div>
  <table class="table">
	  <tr class="head-row">
	    <th><span class="shorting">Group Name <span class="icon-sort"></span></span></th>
	    <th>Countries(CC)</th>
	    <th>Network(NDC)</th>
	    <th><span class="shorting">CoS <span class="icon-sort"></span></span></th>
	    <th><span class="shorting">Number <span class="icon-sort"></span></span></th>
	    <th><span class="shorting">Thrunk <span class="icon-sort"></span></span></th>
	    <th><span class="shorting">SIP Tag <span class="icon-sort"></span></span></th>
	    <th></th>
	  </tr>
	  <!--  edit mode-->
	  <tr data-bind="visible:addRule">
	    <td>
	      <input type="text" class="rule-name-input" placeholder="Enter rule name">
	    </td>
	    <td>
        <select name="originatingFrom" data-toggle="multiselect" class="select_dropdown" multiple="multiple" style="display: none;">
          <option value="Albania_business_travelers">Albania_business_travelers</option>
          <option value="cirg">Cook Islands_roamers group</option>
          <option value="Iraq_liesureTravelers">Iraq_liesure travelers</option>
          <option value="Russia-diplomats">Russia-diplomats</option>
        </select>
	    </td>
	    <td>
        <select data-toggle="multiselect" class="select_dropdown" multiple="multiple" style="display: none;">
          <option value="America">Group B</option>
          <option value="India">XYZ Group</option>
        </select>
	    </td>
	    <td>
        <select data-toggle="multiselect" class="select_dropdown" multiple="multiple" style="display: none;">
          <option value="America">VIP Subascriber</option>
          <option value="India">Business Executive</option>
          <option value="Politician">Politician</option>
          <option value="Diplomats">Diplomats</option>
        </select>
	    </td>
	    <td>
	    	<span class="hyperlink" data-toggle="modal"  data-target="#numberModal">Select</span>
	    </td>
	    <td data-toggle="modal" >-</span>
<!--<app-applicabletime-tod-wod-modal></app-applicabletime-tod-wod-modal>-->
	    </td>
	    <td data-toggle="modal" data-target="#sipModal"> <span class="hyperlink">Enter SIP</span>
<!-- <app-counter-type></app-counter-type>-->
	    </td>
	    <td>
	      <div class="applybtn" (click)="clearfields()">Apply</div>
	      <div class="discard" data-bind="click: hideRule" >Discard</div>
	    </td>
	  </tr>
	  <tbody data-bind="foreach: items">
    <tr>
      <td>
        <div class="rule-name"
             data-bind="text:ruleName"></div>
        <div class="created-date">Created By <span data-bind="text:createdBy"></span>, <span data-bind="text:createdDate"></span></div>
      </td>
    <td>
      <span
        data-bind="text:originatingFrom"
        data-html="true"
        data-toggle="tooltip"
        data-html="true"
        title="<div class='text-left'> <strong> South Korea </strong><br> <strong>Sudan</strong> </div>"></span>

    </td>
    <td data-bind="text:terminateTo"> </td>
    <td>
      <span class="hyperlink" >
        <span data-bind="text:AllowanceThreshold"
              data-html="true"
              data-toggle="tooltip" 
              title="<div class='custom-tooltip-data'><div><span>Name:</span> <strong>A2-1233</strong> </div> <div><span>Periodicity
      :</span> <strong>Weekly</strong> </div> <div><span>Oroginating Calls:</span> <strong>200</strong> </div> <div><span>Terminating
      minutes:</span> <strong>500</strong> </div> </div>"></span>/
        <span
            data-bind="text:AllowanceThreshold"
            data-html="true"
            data-toggle="tooltip"
            title="<div class='threshhold-content'>
          <div class='head-line'><span>Name:</span> <strong>A2-1233</strong> </div>
          <div class='coloumns'>
          <div><span>Originating Calls</span> <strong>Levels: 4</strong> </div>
          <div><span>Terminating Calls</span> <strong>Levels: 2</strong> </div>
          <div><span>Originating Minutes</span> <strong>Levels: 1</strong> </div>
          <div><span>Terminating Minutes</span> <strong>Levels: 5</strong> </div>
          </div>
          </div>"
        >allowanceThreshold</span>
      </span>
     <!--  <ng-template #tipContentThreshhold let-greeting="greeting">
        <div>
          <div class="head-line"><span>Name:</span> <strong>A2-1233</strong> </div>
          <div class="coloumns">
            <div><span>Originating Calls</span> <strong>Levels: 4</strong> </div>
            <div><span>Terminating Calls</span> <strong>Levels: 2</strong> </div>
            <div><span>Originating Minutes</span> <strong>Levels: 1</strong> </div>
            <div><span>Terminating Minutes</span> <strong>Levels: 5</strong> </div>
          </div>
        </div>
      </ng-template> -->
    </td>
    <td><span class="hyperlink" data-bind="text:priority"></span></td>
    <td><span class="hyperlink"
              data-bind="text:tod"
              data-toggle="tooltip"
              data-html="true"
              title=" <div class='todTooltip'><div class='head-line'><span>Validty</span> </div> <div class='coloumns'>
        <strong>0-1 Hr (AM,PM), 1-2 HrS (AM,PM)</strong>
        <div><span>Days of the Week</span></div>
        <strong>Monday, Tuesday, Wednesday</strong>
      </div> </div>"
              placement="left">TOD</span>
      <!-- <ng-template #todTooltip>
        <div class="">
          <div class="head-line"><span>Validty</span> </div>
          <div class="coloumns">
            <strong>0-1 Hr (AM,PM), 1-2 HrS (AM,PM)</strong>
            <div><span>Days of the Week</span></div>
            <strong>Monday, Tuesday, Wednesday</strong>
          </div>
        </div>
      </ng-template> -->
    </td>
    <td>
      <span class="hyperlink" [ngbTooltip]="countersTooltip" placement="left" tooltipClass="counterTooltip" data-bind="text:counters" >23456</span>
     <!--  <ng-template #countersTooltip>
        <div class="">
          <div class="head-line"><span>Counter Type</span> </div>
          <div class="coloumns">
            <strong>Specific A to Specific B <br/>
              Group A to Specific B</strong>
          </div>
        </div>
      </ng-template> -->
    </td>
    <td class="relative">
      <span class="icon-action_dots">

        <div class="custom-popover">
        <div><span class="hyperlink">Edit</span></div>
        <div><span class="hyperlink" >Delete</span></div>
        <div class="toggle-switch">
          <div>Inactive</div>
          <div class="switch_button custom">
            <label class="switch">
              <input type="checkbox">
              <span class="slider round"></span>
            </label>
          </div>
          <div></div>Active
        </div>
      </div>
      </span>
    </td>
  </tr>
    </tbody>
	</table>
  </section>
</div>


<!-- bootstrap modal -->
    <div class="modal fade " id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog  allowance-threshold" role="document">
        <div class="modal-content">
          <div>
            <h2>Allowance/Threshold Templates
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span class="icon-Combined-Shape-Copy-8"></span>
              </button>
            </h2>
            <div>
          <div class="flex-box">
            <div class="allowance-template box">
              <h4>Allowance Templates (7)</h4>
              <div class="search">
                <input type="text" placeholder="Search Allowance" />
              </div>
              <ul data-bind="foreach: thresholdList">
                <li [class.disable]="pushedAllowance[template.id]">
                  <span 
                  data-bind="text:templatesName"
                  data-html="true"
                  data-toggle="tooltip"
                  title="<div class='custom-tooltip-data'>
                      <div><span>Name:</span> <strong>A2-1233</strong> </div>
                      <div><span>Periodicity:</span> <strong>Weekly</strong> </div>
                      <div><span>Oroginating Calls:</span> <strong>200</strong> </div>
                      <div><span>Terminating minutes:</span> <strong>500</strong> </div>
                    </div>" ></span>
                  <span class="select-btn"><input (change)="" type="checkbox"
                    data-bind="attr: { id: templatesName }">
                    <label 
                    data-bind="attr: { for: templatesName }">Select</label>
                  </span>
                </li>
              </ul>
            </div>
            <div class="threshold-template box">
              <h4>Threshold Templates (4)</h4>
              <div class="search">
                <input type="text" placeholder="Search Threshold" />
              </div>
              <ul data-bind="foreach: allowanceList">
                <li  [class.disable]="pushedThreshold[template.id]">
                  <span class="tooltip-view"
                  data-bind="text:templatesName">
                    <!-- tooltip on mouse hover-->
                  <div class="custom-tooltip">
                    <div>Name: <strong>TH-105</strong> </div>
                    <div class="coloumns">
                      <div class="header">Originating Calls</div>
                      <div class="row-section">
                        <ul>
                          <li>Level 1: 80%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
      
                        </ul>
                        <ul>
                          <li>Level 2: 10%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                        <ul>
                          <li>Level 3: 10%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                      </div>
                    </div>
                    <div class="coloumns">
                      <div class="header">Terminating Calls</div>
                      <div class="row-section">
                        <ul>
                          <li>Level 1: 80%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                        <ul>
                          <li>Level 2: 10%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                        </ul>
                      </div>
                    </div>
                    <div class="coloumns">
                      <div class="header">Terminating Calls</div>
                      <div class="row-section">
                        <ul>
                          <li>Level 1: 80%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                        <ul>
                          <li>Level 2: 10%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                      </div>
                    </div>
                    <div class="coloumns">
                      <div class="header">Terminating Calls</div>
                      <div class="row-section">
                        <ul>
                          <li>Level 1: 80%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                        <ul>
                          <li>Level 2: 10%</li>
                          <li>SMS to Subscriber<br/>SMS-2200</li>
                          <li>SMS to Admin<br/>SMS-2200<br/>4 Recipients </li>
                        </ul>
                      </div>
                    </div>
      
                  </div>
                    <!-- tooltip close-->
                  </span>
                  <span class="select-btn"><input type="checkbox" 
                    (change)="addToThresholdList(template.templatesName, template.id)" 
                    data-bind="attr: { id: templatesName }">
                    <label data-bind="attr:{for: templatesName}">Select</label>
                  </span>
                </li>
              </ul>
            </div>
            <span class="move-right" (click)="addToRule()"
                  [class.disable]="!selectedAllowanceTemplate || !selectedThresholdTemplate">
              <span class="icon-Shape2"></span>
            </span>
            <div class="selected-templates">
              <ul>
                <li>
                  B1|A1
                  <span class="icon-bin"></span>
                </li>
                <!-- <li *ngIf="results.length ==0" class="no-data-found">No Allowance Threshold pairs slected yet</li> -->
              </ul>
            </div>
          </div>
          <div class="modal-footer"><button class="btn btn-primary" data-dismiss="modal" aria-label="Close">Done</button> </div>
      </div>
      </div>
    </div>
  </div>
</div>


<!-- tod modal -->
<!-- bootstrap modal -->
<div class="modal fade tod-modal " id="numberModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="title_modal header_modal">
        <h2>Numbers
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span class="icon-Combined-Shape-Copy-8"></span>
          </button>
        </h2>
      </div>
      <div class="modal_body number-modal">
        <div class="row">
          <div class="col-md-4">
            <input type="radio" name="selectType" id="singleNumber" value="singleNumber"
            data-bind="checked: radioSelectedOptionValue" >
            <label for="singleNumber">Single Number</label>
          </div>
          <div class="col-md-4">
            <input type="radio" name="selectType" id="range" value="rangeType"
            data-bind="checked: radioSelectedOptionValue" >
            <label for="range">Range</label>
          </div>
          <div class="col-md-4">
            <input type="radio" name="selectType" id="bulkUpload" value="bulkUpload"
            data-bind="checked: radioSelectedOptionValue">
            <label for="bulkUpload">Bulk Upload</label>
          </div>
        </div>
        <div data-bind="text: radioSelectedOptionValue"></div>
        <!-- Single Number -->
        <div class="row single-number" >
          <div class="col-md-12">
            <label class="tags">Single Number</label>
            <input class="form-element" placeholder=""/>
            <span class="note">For multiple numbers seperate them with (,)</span>
          </div>
        </div>
       
        <!-- range section -->
        <div class="row range-section">
          <div class="col-md-6">
            <label class="tags">From Number</label>
            <input class="form-element" placeholder="" />
          </div>
          <div class="col-md-6">
            <label class="tags">To Number</label>
            <input class="form-element" placeholder="" />
          </div>
        </div>
        <!-- bulk section -->
        <div  class="row bulk-section">
          <div class="col-md-7">
            <div class="upload-file">
              <label for="upload-file">Browse-file</label>
              <span class="file-name">xyz.csv</span>
              <input type="file" name="photo" id="upload-file" />
            </div>
          </div>
          <div class="col-md-5">
            <button class="btn btn-primary">Upload</button>
          </div>
        </div>
        <button class="click-to-action save_action_btn">Okay</button>
      </div>
    </div>
  </div>
</div>


<!-- SIP modal -->
<div class="modal fade counter-modal" id="sipModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="title_modal header_modal">
        <h2>SIP Tag
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span class="icon-Combined-Shape-Copy-8"></span>
          </button>
        </h2>
      </div>
      <div class="modal_body">
        <div class="row">
          <div class="col-md-6">
            <label class="tags">Tag Name</label>
            <input class="form-element" placeholder="" />
          </div>
          <div class="col-md-6">
            <label class="tags">Tag Value</label>
            <input class="form-element" placeholder="" />
          </div>
        </div>
        <br/>
        <button class="click-to-action save_action_btn" (click)="onSave()">Done</button>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript" src='assets/js/jquery-3.5.1.min.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<!-- <script type="text/javascript" src="assets/scripts/multiple-select.min.js"></script> -->
<script type="text/javascript" src="assets/js/BsMultiSelect.min.js"></script>
<script type="text/javascript" src='assets/js/bootstrap.min.js'></script>
<script type='text/javascript' src='assets/js/knockout-3.5.1.js'></script>
<script type="text/javascript" src="models/usagemeteringModel.js"></script>
<script type="text/javascript" src="models/groupsModel.js"></script>
<script>  
  $(function() { 
    $('[data-toggle="tooltip"]').tooltip();
    $("#selectDays").bsMultiSelect({
      placeholder:'Select Days',
    });

    $('[data-toggle="multiselect"]').bsMultiSelect({
      placeholder:'Select'
    });
  });
</script>
</body>
</html>
